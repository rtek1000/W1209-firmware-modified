                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.0.0 #11528 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module menu
                                      6 	.optsdcc -mstm8
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _getUptimeTicks
                                     12 	.globl _setParamId
                                     13 	.globl _storeParams
                                     14 	.globl _decParamId
                                     15 	.globl _incParamId
                                     16 	.globl _decParam
                                     17 	.globl _incParam
                                     18 	.globl _setDisplayOff
                                     19 	.globl _getButton3
                                     20 	.globl _getButton2
                                     21 	.globl _getButton1
                                     22 	.globl _initMenu
                                     23 	.globl _getMenuDisplay
                                     24 	.globl _feedMenu
                                     25 	.globl _refreshMenu
                                     26 ;--------------------------------------------------------
                                     27 ; ram data
                                     28 ;--------------------------------------------------------
                                     29 	.area DATA
      000000                         30 _menuDisplay:
      000000                         31 	.ds 1
      000001                         32 _menuState:
      000001                         33 	.ds 1
      000002                         34 _timer:
      000002                         35 	.ds 2
                                     36 ;--------------------------------------------------------
                                     37 ; ram data
                                     38 ;--------------------------------------------------------
                                     39 	.area INITIALIZED
                                     40 ;--------------------------------------------------------
                                     41 ; absolute external ram data
                                     42 ;--------------------------------------------------------
                                     43 	.area DABS (ABS)
                                     44 
                                     45 ; default segment ordering for linker
                                     46 	.area HOME
                                     47 	.area GSINIT
                                     48 	.area GSFINAL
                                     49 	.area CONST
                                     50 	.area INITIALIZER
                                     51 	.area CODE
                                     52 
                                     53 ;--------------------------------------------------------
                                     54 ; global & static initialisations
                                     55 ;--------------------------------------------------------
                                     56 	.area HOME
                                     57 	.area GSINIT
                                     58 	.area GSFINAL
                                     59 	.area GSINIT
                                     60 ;--------------------------------------------------------
                                     61 ; Home
                                     62 ;--------------------------------------------------------
                                     63 	.area HOME
                                     64 	.area HOME
                                     65 ;--------------------------------------------------------
                                     66 ; code
                                     67 ;--------------------------------------------------------
                                     68 	.area CODE
                                     69 ;	./menu.c: 40: void initMenu()
                                     70 ;	-----------------------------------------
                                     71 ;	 function initMenu
                                     72 ;	-----------------------------------------
      000000                         73 _initMenu:
                                     74 ;	./menu.c: 42: timer = 0;
      000000 5F               [ 1]   75 	clrw	x
      000001 CFu00u02         [ 2]   76 	ldw	_timer+0, x
                                     77 ;	./menu.c: 43: menuState = menuDisplay = MENU_ROOT;
      000004 72 5Fu00u00      [ 1]   78 	clr	_menuDisplay+0
      000008 72 5Fu00u01      [ 1]   79 	clr	_menuState+0
                                     80 ;	./menu.c: 44: }
      00000C 81               [ 4]   81 	ret
                                     82 ;	./menu.c: 50: unsigned char getMenuDisplay()
                                     83 ;	-----------------------------------------
                                     84 ;	 function getMenuDisplay
                                     85 ;	-----------------------------------------
      00000D                         86 _getMenuDisplay:
                                     87 ;	./menu.c: 52: return menuDisplay;
      00000D C6u00u00         [ 1]   88 	ld	a, _menuDisplay+0
                                     89 ;	./menu.c: 53: }
      000010 81               [ 4]   90 	ret
                                     91 ;	./menu.c: 72: void feedMenu (unsigned char event)
                                     92 ;	-----------------------------------------
                                     93 ;	 function feedMenu
                                     94 ;	-----------------------------------------
      000011                         95 _feedMenu:
      000011 52 03            [ 2]   96 	sub	sp, #3
                                     97 ;	./menu.c: 84: if (timer < MENU_5_SEC_PASSED) {
      000013 CEu00u02         [ 2]   98 	ldw	x, _timer+0
      000016 A3 00 A0         [ 2]   99 	cpw	x, #0x00a0
      000019 4F               [ 1]  100 	clr	a
      00001A 49               [ 1]  101 	rlc	a
      00001B 6B 01            [ 1]  102 	ld	(0x01, sp), a
                                    103 ;	./menu.c: 76: if (menuState == MENU_ROOT) {
      00001D 72 5Du00u01      [ 1]  104 	tnz	_menuState+0
      000021 26 71            [ 1]  105 	jrne	00188$
                                    106 ;	./menu.c: 77: switch (event) {
      000023 7B 06            [ 1]  107 	ld	a, (0x06, sp)
      000025 A1 00            [ 1]  108 	cp	a, #0x00
      000027 27 0E            [ 1]  109 	jreq	00101$
      000029 7B 06            [ 1]  110 	ld	a, (0x06, sp)
      00002B A1 03            [ 1]  111 	cp	a, #0x03
      00002D 27 13            [ 1]  112 	jreq	00102$
      00002F 7B 06            [ 1]  113 	ld	a, (0x06, sp)
      000031 A1 06            [ 1]  114 	cp	a, #0x06
      000033 27 1C            [ 1]  115 	jreq	00105$
      000035 20 43            [ 2]  116 	jra	00110$
                                    117 ;	./menu.c: 78: case MENU_EVENT_PUSH_BUTTON1:
      000037                        118 00101$:
                                    119 ;	./menu.c: 79: timer = 0;
      000037 5F               [ 1]  120 	clrw	x
      000038 CFu00u02         [ 2]  121 	ldw	_timer+0, x
                                    122 ;	./menu.c: 80: menuDisplay = MENU_SET_THRESHOLD;
      00003B 35 01u00u00      [ 1]  123 	mov	_menuDisplay+0, #0x01
                                    124 ;	./menu.c: 81: break;
      00003F CCr02rDE         [ 2]  125 	jp	00190$
                                    126 ;	./menu.c: 83: case MENU_EVENT_RELEASE_BUTTON1:
      000042                        127 00102$:
                                    128 ;	./menu.c: 84: if (timer < MENU_5_SEC_PASSED) {
      000042 0D 01            [ 1]  129 	tnz	(0x01, sp)
      000044 27 04            [ 1]  130 	jreq	00104$
                                    131 ;	./menu.c: 85: menuState = MENU_SET_THRESHOLD;
      000046 35 01u00u01      [ 1]  132 	mov	_menuState+0, #0x01
      00004A                        133 00104$:
                                    134 ;	./menu.c: 88: timer = 0;
      00004A 5F               [ 1]  135 	clrw	x
      00004B CFu00u02         [ 2]  136 	ldw	_timer+0, x
                                    137 ;	./menu.c: 89: break;
      00004E CCr02rDE         [ 2]  138 	jp	00190$
                                    139 ;	./menu.c: 91: case MENU_EVENT_CHECK_TIMER:
      000051                        140 00105$:
                                    141 ;	./menu.c: 92: if (getButton1() ) {
      000051 CDr00r00         [ 4]  142 	call	_getButton1
      000054 4D               [ 1]  143 	tnz	a
      000055 26 03            [ 1]  144 	jrne	00358$
      000057 CCr02rDE         [ 2]  145 	jp	00190$
      00005A                        146 00358$:
                                    147 ;	./menu.c: 93: if (timer > MENU_3_SEC_PASSED) {
      00005A CEu00u02         [ 2]  148 	ldw	x, _timer+0
      00005D A3 00 60         [ 2]  149 	cpw	x, #0x0060
      000060 22 03            [ 1]  150 	jrugt	00359$
      000062 CCr02rDE         [ 2]  151 	jp	00190$
      000065                        152 00359$:
                                    153 ;	./menu.c: 94: setParamId (0);
      000065 4B 00            [ 1]  154 	push	#0x00
      000067 CDr00r00         [ 4]  155 	call	_setParamId
      00006A 84               [ 1]  156 	pop	a
                                    157 ;	./menu.c: 95: timer = 0;
      00006B 5F               [ 1]  158 	clrw	x
      00006C CFu00u02         [ 2]  159 	ldw	_timer+0, x
                                    160 ;	./menu.c: 96: menuState = menuDisplay = MENU_SELECT_PARAM;
      00006F 35 02u00u00      [ 1]  161 	mov	_menuDisplay+0, #0x02
      000073 35 02u00u01      [ 1]  162 	mov	_menuState+0, #0x02
                                    163 ;	./menu.c: 100: break;
      000077 CCr02rDE         [ 2]  164 	jp	00190$
                                    165 ;	./menu.c: 102: default:
      00007A                        166 00110$:
                                    167 ;	./menu.c: 103: if (timer > MENU_5_SEC_PASSED) {
      00007A CEu00u02         [ 2]  168 	ldw	x, _timer+0
      00007D A3 00 A0         [ 2]  169 	cpw	x, #0x00a0
      000080 22 03            [ 1]  170 	jrugt	00360$
      000082 CCr02rDE         [ 2]  171 	jp	00190$
      000085                        172 00360$:
                                    173 ;	./menu.c: 104: timer = 0;
      000085 5F               [ 1]  174 	clrw	x
      000086 CFu00u02         [ 2]  175 	ldw	_timer+0, x
                                    176 ;	./menu.c: 105: menuState = menuDisplay = MENU_ROOT;
      000089 72 5Fu00u00      [ 1]  177 	clr	_menuDisplay+0
      00008D 72 5Fu00u01      [ 1]  178 	clr	_menuState+0
                                    179 ;	./menu.c: 109: }
      000091 CCr02rDE         [ 2]  180 	jp	00190$
      000094                        181 00188$:
                                    182 ;	./menu.c: 111: switch (event) {
      000094 7B 06            [ 1]  183 	ld	a, (0x06, sp)
      000096 A1 06            [ 1]  184 	cp	a, #0x06
      000098 22 04            [ 1]  185 	jrugt	00361$
      00009A 0F 02            [ 1]  186 	clr	(0x02, sp)
      00009C 20 04            [ 2]  187 	jra	00362$
      00009E                        188 00361$:
      00009E A6 01            [ 1]  189 	ld	a, #0x01
      0000A0 6B 02            [ 1]  190 	ld	(0x02, sp), a
      0000A2                        191 00362$:
                                    192 ;	./menu.c: 134: if (timer > MENU_1_SEC_PASSED + MENU_AUTOINC_DELAY) {
      0000A2 CEu00u02         [ 2]  193 	ldw	x, _timer+0
      0000A5 A3 00 24         [ 2]  194 	cpw	x, #0x0024
      0000A8 22 04            [ 1]  195 	jrugt	00363$
      0000AA 0F 03            [ 1]  196 	clr	(0x03, sp)
      0000AC 20 04            [ 2]  197 	jra	00364$
      0000AE                        198 00363$:
      0000AE A6 01            [ 1]  199 	ld	a, #0x01
      0000B0 6B 03            [ 1]  200 	ld	(0x03, sp), a
      0000B2                        201 00364$:
                                    202 ;	./menu.c: 110: } else if (menuState == MENU_SELECT_PARAM) {
      0000B2 C6u00u01         [ 1]  203 	ld	a, _menuState+0
      0000B5 A1 02            [ 1]  204 	cp	a, #0x02
      0000B7 27 03            [ 1]  205 	jreq	00367$
      0000B9 CCr01r44         [ 2]  206 	jp	00185$
      0000BC                        207 00367$:
                                    208 ;	./menu.c: 111: switch (event) {
      0000BC 0D 02            [ 1]  209 	tnz	(0x02, sp)
      0000BE 27 03            [ 1]  210 	jreq	00368$
      0000C0 CCr02rDE         [ 2]  211 	jp	00190$
      0000C3                        212 00368$:
      0000C3 5F               [ 1]  213 	clrw	x
      0000C4 7B 06            [ 1]  214 	ld	a, (0x06, sp)
      0000C6 97               [ 1]  215 	ld	xl, a
      0000C7 58               [ 2]  216 	sllw	x
      0000C8 DEu00uCC         [ 2]  217 	ldw	x, (#00369$, x)
      0000CB FC               [ 2]  218 	jp	(x)
      0000CC                        219 00369$:
      0000CCr00rDA                  220 	.dw	#00114$
      0000CEr00rE9                  221 	.dw	#00116$
      0000D0r00rF3                  222 	.dw	#00118$
      0000D2r00rE2                  223 	.dw	#00115$
      0000D4r00rEC                  224 	.dw	#00117$
      0000D6r00rF6                  225 	.dw	#00119$
      0000D8r00rFD                  226 	.dw	#00120$
                                    227 ;	./menu.c: 112: case MENU_EVENT_PUSH_BUTTON1:
      0000DA                        228 00114$:
                                    229 ;	./menu.c: 113: menuState = menuDisplay = MENU_CHANGE_PARAM;
      0000DA 35 03u00u00      [ 1]  230 	mov	_menuDisplay+0, #0x03
      0000DE 35 03u00u01      [ 1]  231 	mov	_menuState+0, #0x03
                                    232 ;	./menu.c: 115: case MENU_EVENT_RELEASE_BUTTON1:
      0000E2                        233 00115$:
                                    234 ;	./menu.c: 116: timer = 0;
      0000E2 5F               [ 1]  235 	clrw	x
      0000E3 CFu00u02         [ 2]  236 	ldw	_timer+0, x
                                    237 ;	./menu.c: 117: break;
      0000E6 CCr02rDE         [ 2]  238 	jp	00190$
                                    239 ;	./menu.c: 119: case MENU_EVENT_PUSH_BUTTON2:
      0000E9                        240 00116$:
                                    241 ;	./menu.c: 120: incParamId();
      0000E9 CDr00r00         [ 4]  242 	call	_incParamId
                                    243 ;	./menu.c: 122: case MENU_EVENT_RELEASE_BUTTON2:
      0000EC                        244 00117$:
                                    245 ;	./menu.c: 123: timer = 0;
      0000EC 5F               [ 1]  246 	clrw	x
      0000ED CFu00u02         [ 2]  247 	ldw	_timer+0, x
                                    248 ;	./menu.c: 124: break;
      0000F0 CCr02rDE         [ 2]  249 	jp	00190$
                                    250 ;	./menu.c: 126: case MENU_EVENT_PUSH_BUTTON3:
      0000F3                        251 00118$:
                                    252 ;	./menu.c: 127: decParamId();
      0000F3 CDr00r00         [ 4]  253 	call	_decParamId
                                    254 ;	./menu.c: 129: case MENU_EVENT_RELEASE_BUTTON3:
      0000F6                        255 00119$:
                                    256 ;	./menu.c: 130: timer = 0;
      0000F6 5F               [ 1]  257 	clrw	x
      0000F7 CFu00u02         [ 2]  258 	ldw	_timer+0, x
                                    259 ;	./menu.c: 131: break;
      0000FA CCr02rDE         [ 2]  260 	jp	00190$
                                    261 ;	./menu.c: 133: case MENU_EVENT_CHECK_TIMER:
      0000FD                        262 00120$:
                                    263 ;	./menu.c: 134: if (timer > MENU_1_SEC_PASSED + MENU_AUTOINC_DELAY) {
      0000FD 0D 03            [ 1]  264 	tnz	(0x03, sp)
      0000FF 27 20            [ 1]  265 	jreq	00127$
                                    266 ;	./menu.c: 135: if (getButton2() ) {
      000101 CDr00r00         [ 4]  267 	call	_getButton2
      000104 4D               [ 1]  268 	tnz	a
      000105 27 0B            [ 1]  269 	jreq	00124$
                                    270 ;	./menu.c: 136: incParamId();
      000107 CDr00r00         [ 4]  271 	call	_incParamId
                                    272 ;	./menu.c: 137: timer = MENU_1_SEC_PASSED;
      00010A AE 00 20         [ 2]  273 	ldw	x, #0x0020
      00010D CFu00u02         [ 2]  274 	ldw	_timer+0, x
      000110 20 0F            [ 2]  275 	jra	00127$
      000112                        276 00124$:
                                    277 ;	./menu.c: 138: } else if (getButton3() ) {
      000112 CDr00r00         [ 4]  278 	call	_getButton3
      000115 4D               [ 1]  279 	tnz	a
      000116 27 09            [ 1]  280 	jreq	00127$
                                    281 ;	./menu.c: 139: decParamId();
      000118 CDr00r00         [ 4]  282 	call	_decParamId
                                    283 ;	./menu.c: 140: timer = MENU_1_SEC_PASSED;
      00011B AE 00 20         [ 2]  284 	ldw	x, #0x0020
      00011E CFu00u02         [ 2]  285 	ldw	_timer+0, x
      000121                        286 00127$:
                                    287 ;	./menu.c: 144: if (timer > MENU_5_SEC_PASSED) {
      000121 CEu00u02         [ 2]  288 	ldw	x, _timer+0
      000124 A3 00 A0         [ 2]  289 	cpw	x, #0x00a0
      000127 22 03            [ 1]  290 	jrugt	00373$
      000129 CCr02rDE         [ 2]  291 	jp	00190$
      00012C                        292 00373$:
                                    293 ;	./menu.c: 145: timer = 0;
      00012C 5F               [ 1]  294 	clrw	x
      00012D CFu00u02         [ 2]  295 	ldw	_timer+0, x
                                    296 ;	./menu.c: 146: setParamId (0);
      000130 4B 00            [ 1]  297 	push	#0x00
      000132 CDr00r00         [ 4]  298 	call	_setParamId
      000135 84               [ 1]  299 	pop	a
                                    300 ;	./menu.c: 147: storeParams();
      000136 CDr00r00         [ 4]  301 	call	_storeParams
                                    302 ;	./menu.c: 148: menuState = menuDisplay = MENU_ROOT;
      000139 72 5Fu00u00      [ 1]  303 	clr	_menuDisplay+0
      00013D 72 5Fu00u01      [ 1]  304 	clr	_menuState+0
                                    305 ;	./menu.c: 151: break;
      000141 CCr02rDE         [ 2]  306 	jp	00190$
                                    307 ;	./menu.c: 155: }
      000144                        308 00185$:
                                    309 ;	./menu.c: 156: } else if (menuState == MENU_CHANGE_PARAM) {
      000144 C6u00u01         [ 1]  310 	ld	a, _menuState+0
      000147 A1 03            [ 1]  311 	cp	a, #0x03
      000149 27 03            [ 1]  312 	jreq	00376$
      00014B CCr01rED         [ 2]  313 	jp	00182$
      00014E                        314 00376$:
                                    315 ;	./menu.c: 157: switch (event) {
      00014E 0D 02            [ 1]  316 	tnz	(0x02, sp)
      000150 27 03            [ 1]  317 	jreq	00377$
      000152 CCr02rDE         [ 2]  318 	jp	00190$
      000155                        319 00377$:
      000155 5F               [ 1]  320 	clrw	x
      000156 7B 06            [ 1]  321 	ld	a, (0x06, sp)
      000158 97               [ 1]  322 	ld	xl, a
      000159 58               [ 2]  323 	sllw	x
      00015A DEu01u5E         [ 2]  324 	ldw	x, (#00378$, x)
      00015D FC               [ 2]  325 	jp	(x)
      00015E                        326 00378$:
      00015Er01r6C                  327 	.dw	#00132$
      000160r01r7B                  328 	.dw	#00134$
      000162r01r85                  329 	.dw	#00136$
      000164r01r74                  330 	.dw	#00133$
      000166r01r7E                  331 	.dw	#00135$
      000168r01r88                  332 	.dw	#00137$
      00016Ar01r8F                  333 	.dw	#00138$
                                    334 ;	./menu.c: 158: case MENU_EVENT_PUSH_BUTTON1:
      00016C                        335 00132$:
                                    336 ;	./menu.c: 159: menuState = menuDisplay = MENU_SELECT_PARAM;
      00016C 35 02u00u00      [ 1]  337 	mov	_menuDisplay+0, #0x02
      000170 35 02u00u01      [ 1]  338 	mov	_menuState+0, #0x02
                                    339 ;	./menu.c: 161: case MENU_EVENT_RELEASE_BUTTON1:
      000174                        340 00133$:
                                    341 ;	./menu.c: 162: timer = 0;
      000174 5F               [ 1]  342 	clrw	x
      000175 CFu00u02         [ 2]  343 	ldw	_timer+0, x
                                    344 ;	./menu.c: 163: break;
      000178 CCr02rDE         [ 2]  345 	jp	00190$
                                    346 ;	./menu.c: 165: case MENU_EVENT_PUSH_BUTTON2:
      00017B                        347 00134$:
                                    348 ;	./menu.c: 166: incParam();
      00017B CDr00r00         [ 4]  349 	call	_incParam
                                    350 ;	./menu.c: 168: case MENU_EVENT_RELEASE_BUTTON2:
      00017E                        351 00135$:
                                    352 ;	./menu.c: 169: timer = 0;
      00017E 5F               [ 1]  353 	clrw	x
      00017F CFu00u02         [ 2]  354 	ldw	_timer+0, x
                                    355 ;	./menu.c: 170: break;
      000182 CCr02rDE         [ 2]  356 	jp	00190$
                                    357 ;	./menu.c: 172: case MENU_EVENT_PUSH_BUTTON3:
      000185                        358 00136$:
                                    359 ;	./menu.c: 173: decParam();
      000185 CDr00r00         [ 4]  360 	call	_decParam
                                    361 ;	./menu.c: 175: case MENU_EVENT_RELEASE_BUTTON3:
      000188                        362 00137$:
                                    363 ;	./menu.c: 176: timer = 0;
      000188 5F               [ 1]  364 	clrw	x
      000189 CFu00u02         [ 2]  365 	ldw	_timer+0, x
                                    366 ;	./menu.c: 177: break;
      00018C CCr02rDE         [ 2]  367 	jp	00190$
                                    368 ;	./menu.c: 179: case MENU_EVENT_CHECK_TIMER:
      00018F                        369 00138$:
                                    370 ;	./menu.c: 180: if (timer > MENU_1_SEC_PASSED + MENU_AUTOINC_DELAY) {
      00018F 0D 03            [ 1]  371 	tnz	(0x03, sp)
      000191 27 20            [ 1]  372 	jreq	00145$
                                    373 ;	./menu.c: 181: if (getButton2() ) {
      000193 CDr00r00         [ 4]  374 	call	_getButton2
      000196 4D               [ 1]  375 	tnz	a
      000197 27 0B            [ 1]  376 	jreq	00142$
                                    377 ;	./menu.c: 182: incParam();
      000199 CDr00r00         [ 4]  378 	call	_incParam
                                    379 ;	./menu.c: 183: timer = MENU_1_SEC_PASSED;
      00019C AE 00 20         [ 2]  380 	ldw	x, #0x0020
      00019F CFu00u02         [ 2]  381 	ldw	_timer+0, x
      0001A2 20 0F            [ 2]  382 	jra	00145$
      0001A4                        383 00142$:
                                    384 ;	./menu.c: 184: } else if (getButton3() ) {
      0001A4 CDr00r00         [ 4]  385 	call	_getButton3
      0001A7 4D               [ 1]  386 	tnz	a
      0001A8 27 09            [ 1]  387 	jreq	00145$
                                    388 ;	./menu.c: 185: decParam();
      0001AA CDr00r00         [ 4]  389 	call	_decParam
                                    390 ;	./menu.c: 186: timer = MENU_1_SEC_PASSED;
      0001AD AE 00 20         [ 2]  391 	ldw	x, #0x0020
      0001B0 CFu00u02         [ 2]  392 	ldw	_timer+0, x
      0001B3                        393 00145$:
                                    394 ;	./menu.c: 190: if (getButton1() && timer > MENU_3_SEC_PASSED) {
      0001B3 CDr00r00         [ 4]  395 	call	_getButton1
      0001B6 4D               [ 1]  396 	tnz	a
      0001B7 27 17            [ 1]  397 	jreq	00147$
      0001B9 CEu00u02         [ 2]  398 	ldw	x, _timer+0
      0001BC A3 00 60         [ 2]  399 	cpw	x, #0x0060
      0001BF 23 0F            [ 2]  400 	jrule	00147$
                                    401 ;	./menu.c: 191: timer = 0;
      0001C1 5F               [ 1]  402 	clrw	x
      0001C2 CFu00u02         [ 2]  403 	ldw	_timer+0, x
                                    404 ;	./menu.c: 192: menuState = menuDisplay = MENU_SELECT_PARAM;
      0001C5 35 02u00u00      [ 1]  405 	mov	_menuDisplay+0, #0x02
      0001C9 35 02u00u01      [ 1]  406 	mov	_menuState+0, #0x02
                                    407 ;	./menu.c: 193: break;
      0001CD CCr02rDE         [ 2]  408 	jp	00190$
      0001D0                        409 00147$:
                                    410 ;	./menu.c: 196: if (timer > MENU_5_SEC_PASSED) {
      0001D0 CEu00u02         [ 2]  411 	ldw	x, _timer+0
      0001D3 A3 00 A0         [ 2]  412 	cpw	x, #0x00a0
      0001D6 22 03            [ 1]  413 	jrugt	00384$
      0001D8 CCr02rDE         [ 2]  414 	jp	00190$
      0001DB                        415 00384$:
                                    416 ;	./menu.c: 197: timer = 0;
      0001DB 5F               [ 1]  417 	clrw	x
      0001DC CFu00u02         [ 2]  418 	ldw	_timer+0, x
                                    419 ;	./menu.c: 198: storeParams();
      0001DF CDr00r00         [ 4]  420 	call	_storeParams
                                    421 ;	./menu.c: 199: menuState = menuDisplay = MENU_ROOT;
      0001E2 72 5Fu00u00      [ 1]  422 	clr	_menuDisplay+0
      0001E6 72 5Fu00u01      [ 1]  423 	clr	_menuState+0
                                    424 ;	./menu.c: 202: break;
      0001EA CCr02rDE         [ 2]  425 	jp	00190$
                                    426 ;	./menu.c: 206: }
      0001ED                        427 00182$:
                                    428 ;	./menu.c: 207: } else if (menuState == MENU_SET_THRESHOLD) {
      0001ED C6u00u01         [ 1]  429 	ld	a, _menuState+0
      0001F0 4A               [ 1]  430 	dec	a
      0001F1 27 03            [ 1]  431 	jreq	00387$
      0001F3 CCr02rDE         [ 2]  432 	jp	00190$
      0001F6                        433 00387$:
                                    434 ;	./menu.c: 208: switch (event) {
      0001F6 0D 02            [ 1]  435 	tnz	(0x02, sp)
      0001F8 27 03            [ 1]  436 	jreq	00388$
      0001FA CCr02rDE         [ 2]  437 	jp	00190$
      0001FD                        438 00388$:
      0001FD 5F               [ 1]  439 	clrw	x
      0001FE 7B 06            [ 1]  440 	ld	a, (0x06, sp)
      000200 97               [ 1]  441 	ld	xl, a
      000201 58               [ 2]  442 	sllw	x
      000202 DEu02u06         [ 2]  443 	ldw	x, (#00389$, x)
      000205 FC               [ 2]  444 	jp	(x)
      000206                        445 00389$:
      000206r02r14                  446 	.dw	#00153$
      000208r02r3D                  447 	.dw	#00157$
      00020Ar02r4D                  448 	.dw	#00159$
      00020Cr02r25                  449 	.dw	#00154$
      00020Er02r46                  450 	.dw	#00158$
      000210r02r56                  451 	.dw	#00160$
      000212r02r5D                  452 	.dw	#00161$
                                    453 ;	./menu.c: 209: case MENU_EVENT_PUSH_BUTTON1:
      000214                        454 00153$:
                                    455 ;	./menu.c: 210: timer = 0;
      000214 5F               [ 1]  456 	clrw	x
      000215 CFu00u02         [ 2]  457 	ldw	_timer+0, x
                                    458 ;	./menu.c: 211: menuDisplay = MENU_ROOT;
      000218 72 5Fu00u00      [ 1]  459 	clr	_menuDisplay+0
                                    460 ;	./menu.c: 212: setDisplayOff (false);
      00021C 4B 00            [ 1]  461 	push	#0x00
      00021E CDr00r00         [ 4]  462 	call	_setDisplayOff
      000221 84               [ 1]  463 	pop	a
                                    464 ;	./menu.c: 213: break;
      000222 CCr02rDE         [ 2]  465 	jp	00190$
                                    466 ;	./menu.c: 215: case MENU_EVENT_RELEASE_BUTTON1:
      000225                        467 00154$:
                                    468 ;	./menu.c: 216: if (timer < MENU_5_SEC_PASSED) {
      000225 0D 01            [ 1]  469 	tnz	(0x01, sp)
      000227 27 0D            [ 1]  470 	jreq	00156$
                                    471 ;	./menu.c: 217: storeParams();
      000229 CDr00r00         [ 4]  472 	call	_storeParams
                                    473 ;	./menu.c: 218: menuState = MENU_ROOT;
      00022C 72 5Fu00u01      [ 1]  474 	clr	_menuState+0
                                    475 ;	./menu.c: 219: setDisplayOff (false);
      000230 4B 00            [ 1]  476 	push	#0x00
      000232 CDr00r00         [ 4]  477 	call	_setDisplayOff
      000235 84               [ 1]  478 	pop	a
      000236                        479 00156$:
                                    480 ;	./menu.c: 222: timer = 0;
      000236 5F               [ 1]  481 	clrw	x
      000237 CFu00u02         [ 2]  482 	ldw	_timer+0, x
                                    483 ;	./menu.c: 223: break;
      00023A CCr02rDE         [ 2]  484 	jp	00190$
                                    485 ;	./menu.c: 225: case MENU_EVENT_PUSH_BUTTON2:
      00023D                        486 00157$:
                                    487 ;	./menu.c: 226: setParamId (PARAM_THRESHOLD);
      00023D 4B 09            [ 1]  488 	push	#0x09
      00023F CDr00r00         [ 4]  489 	call	_setParamId
      000242 84               [ 1]  490 	pop	a
                                    491 ;	./menu.c: 227: incParam();
      000243 CDr00r00         [ 4]  492 	call	_incParam
                                    493 ;	./menu.c: 229: case MENU_EVENT_RELEASE_BUTTON2:
      000246                        494 00158$:
                                    495 ;	./menu.c: 230: timer = 0;
      000246 5F               [ 1]  496 	clrw	x
      000247 CFu00u02         [ 2]  497 	ldw	_timer+0, x
                                    498 ;	./menu.c: 231: break;
      00024A CCr02rDE         [ 2]  499 	jp	00190$
                                    500 ;	./menu.c: 233: case MENU_EVENT_PUSH_BUTTON3:
      00024D                        501 00159$:
                                    502 ;	./menu.c: 234: setParamId (PARAM_THRESHOLD);
      00024D 4B 09            [ 1]  503 	push	#0x09
      00024F CDr00r00         [ 4]  504 	call	_setParamId
      000252 84               [ 1]  505 	pop	a
                                    506 ;	./menu.c: 235: decParam();
      000253 CDr00r00         [ 4]  507 	call	_decParam
                                    508 ;	./menu.c: 237: case MENU_EVENT_RELEASE_BUTTON3:
      000256                        509 00160$:
                                    510 ;	./menu.c: 238: timer = 0;
      000256 5F               [ 1]  511 	clrw	x
      000257 CFu00u02         [ 2]  512 	ldw	_timer+0, x
                                    513 ;	./menu.c: 239: break;
      00025A CCr02rDE         [ 2]  514 	jp	00190$
                                    515 ;	./menu.c: 241: case MENU_EVENT_CHECK_TIMER:
      00025D                        516 00161$:
                                    517 ;	./menu.c: 242: if (getButton2() || getButton3() ) {
      00025D CDr00r00         [ 4]  518 	call	_getButton2
      000260 4D               [ 1]  519 	tnz	a
      000261 26 06            [ 1]  520 	jrne	00162$
      000263 CDr00r00         [ 4]  521 	call	_getButton3
      000266 4D               [ 1]  522 	tnz	a
      000267 27 04            [ 1]  523 	jreq	00163$
      000269                        524 00162$:
                                    525 ;	./menu.c: 243: blink = false;
      000269 0F 03            [ 1]  526 	clr	(0x03, sp)
      00026B 20 09            [ 2]  527 	jra	00164$
      00026D                        528 00163$:
                                    529 ;	./menu.c: 245: blink = (bool) ( (unsigned char) getUptimeTicks() & 0x80);
      00026D CDr00r00         [ 4]  530 	call	_getUptimeTicks
      000270 9F               [ 1]  531 	ld	a, xl
      000271 48               [ 1]  532 	sll	a
      000272 4F               [ 1]  533 	clr	a
      000273 49               [ 1]  534 	rlc	a
      000274 6B 03            [ 1]  535 	ld	(0x03, sp), a
      000276                        536 00164$:
                                    537 ;	./menu.c: 248: if (timer > MENU_1_SEC_PASSED + MENU_AUTOINC_DELAY) {
      000276 CEu00u02         [ 2]  538 	ldw	x, _timer+0
      000279 A3 00 24         [ 2]  539 	cpw	x, #0x0024
      00027C 23 26            [ 2]  540 	jrule	00172$
                                    541 ;	./menu.c: 249: setParamId (PARAM_THRESHOLD);
      00027E 4B 09            [ 1]  542 	push	#0x09
      000280 CDr00r00         [ 4]  543 	call	_setParamId
      000283 84               [ 1]  544 	pop	a
                                    545 ;	./menu.c: 251: if (getButton2() ) {
      000284 CDr00r00         [ 4]  546 	call	_getButton2
      000287 4D               [ 1]  547 	tnz	a
      000288 27 0B            [ 1]  548 	jreq	00169$
                                    549 ;	./menu.c: 252: incParam();
      00028A CDr00r00         [ 4]  550 	call	_incParam
                                    551 ;	./menu.c: 253: timer = MENU_1_SEC_PASSED;
      00028D AE 00 20         [ 2]  552 	ldw	x, #0x0020
      000290 CFu00u02         [ 2]  553 	ldw	_timer+0, x
      000293 20 0F            [ 2]  554 	jra	00172$
      000295                        555 00169$:
                                    556 ;	./menu.c: 254: } else if (getButton3() ) {
      000295 CDr00r00         [ 4]  557 	call	_getButton3
      000298 4D               [ 1]  558 	tnz	a
      000299 27 09            [ 1]  559 	jreq	00172$
                                    560 ;	./menu.c: 255: decParam();
      00029B CDr00r00         [ 4]  561 	call	_decParam
                                    562 ;	./menu.c: 256: timer = MENU_1_SEC_PASSED;
      00029E AE 00 20         [ 2]  563 	ldw	x, #0x0020
      0002A1 CFu00u02         [ 2]  564 	ldw	_timer+0, x
      0002A4                        565 00172$:
                                    566 ;	./menu.c: 260: setDisplayOff (blink);
      0002A4 7B 03            [ 1]  567 	ld	a, (0x03, sp)
      0002A6 88               [ 1]  568 	push	a
      0002A7 CDr00r00         [ 4]  569 	call	_setDisplayOff
      0002AA 84               [ 1]  570 	pop	a
                                    571 ;	./menu.c: 262: if (timer > MENU_5_SEC_PASSED) {
      0002AB CEu00u02         [ 2]  572 	ldw	x, _timer+0
      0002AE A3 00 A0         [ 2]  573 	cpw	x, #0x00a0
      0002B1 23 2B            [ 2]  574 	jrule	00190$
                                    575 ;	./menu.c: 263: timer = 0;
      0002B3 5F               [ 1]  576 	clrw	x
      0002B4 CFu00u02         [ 2]  577 	ldw	_timer+0, x
                                    578 ;	./menu.c: 265: if (getButton1() ) {
      0002B7 CDr00r00         [ 4]  579 	call	_getButton1
      0002BA 4D               [ 1]  580 	tnz	a
      0002BB 27 10            [ 1]  581 	jreq	00174$
                                    582 ;	./menu.c: 266: menuState = menuDisplay = MENU_SELECT_PARAM;
      0002BD 35 02u00u00      [ 1]  583 	mov	_menuDisplay+0, #0x02
      0002C1 35 02u00u01      [ 1]  584 	mov	_menuState+0, #0x02
                                    585 ;	./menu.c: 267: setDisplayOff (false);
      0002C5 4B 00            [ 1]  586 	push	#0x00
      0002C7 CDr00r00         [ 4]  587 	call	_setDisplayOff
      0002CA 84               [ 1]  588 	pop	a
                                    589 ;	./menu.c: 268: break;
      0002CB 20 11            [ 2]  590 	jra	00190$
      0002CD                        591 00174$:
                                    592 ;	./menu.c: 271: storeParams();
      0002CD CDr00r00         [ 4]  593 	call	_storeParams
                                    594 ;	./menu.c: 272: menuState = menuDisplay = MENU_ROOT;
      0002D0 72 5Fu00u00      [ 1]  595 	clr	_menuDisplay+0
      0002D4 72 5Fu00u01      [ 1]  596 	clr	_menuState+0
                                    597 ;	./menu.c: 273: setDisplayOff (false);
      0002D8 4B 00            [ 1]  598 	push	#0x00
      0002DA CDr00r00         [ 4]  599 	call	_setDisplayOff
      0002DD 84               [ 1]  600 	pop	a
                                    601 ;	./menu.c: 280: }
      0002DE                        602 00190$:
                                    603 ;	./menu.c: 282: }
      0002DE 5B 03            [ 2]  604 	addw	sp, #3
      0002E0 81               [ 4]  605 	ret
                                    606 ;	./menu.c: 292: void refreshMenu()
                                    607 ;	-----------------------------------------
                                    608 ;	 function refreshMenu
                                    609 ;	-----------------------------------------
      0002E1                        610 _refreshMenu:
                                    611 ;	./menu.c: 294: timer++;
      0002E1 CEu00u02         [ 2]  612 	ldw	x, _timer+0
      0002E4 5C               [ 1]  613 	incw	x
      0002E5 CFu00u02         [ 2]  614 	ldw	_timer+0, x
                                    615 ;	./menu.c: 295: feedMenu (MENU_EVENT_CHECK_TIMER);
      0002E8 4B 06            [ 1]  616 	push	#0x06
      0002EA CDr00r11         [ 4]  617 	call	_feedMenu
      0002ED 84               [ 1]  618 	pop	a
                                    619 ;	./menu.c: 296: }
      0002EE 81               [ 4]  620 	ret
                                    621 	.area CODE
                                    622 	.area CONST
                                    623 	.area INITIALIZER
                                    624 	.area CABS (ABS)
